{"version":3,"sources":["components/Card/index.jsx","components/Panel/index.jsx","components/Button/index.jsx","components/AddForm/index.jsx","components/containers/Panels.js","actions/panels.js","actions/cards.js","App.js","index.js","components/reducers/panels.js","components/reducers/index.js","components/store.js"],"names":["Card","card","Paper","elevation","className","Panel","title","cards","isNewPanel","onAddPanel","onAddCard","panelIndex","Typography","variant","onDragEnd","result","arr","old_index","new_index","length","k","push","undefined","splice","move","source","index","destination","console","log","droppableId","provided","snapshot","ref","innerRef","map","key","draggableId","draggableProps","dragHandleProps","placeholder","Button","onAdd","inputState","color","disableElevation","onClick","AddForm","useState","showForm","setShowForm","setInputState","inputRef","useRef","useEffect","current","focus","InputBase","fullWidth","multiline","onChange","e","target","value","IconButton","connect","items","panels","addPanel","name","type","payload","addCard","text","item","App","Component","initialState","combineReducers","state","action","store","createStore","rootReducer","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById"],"mappings":"2OAYeA,G,MARF,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACd,OACE,kBAACC,EAAA,EAAD,CAAOC,UAAW,EAAGC,UAAU,QAC5BH,K,iBCsFQI,G,MAtFD,SAAC,GAOR,IANLC,EAMI,EANJA,MACAC,EAKI,EALJA,MACAC,EAII,EAJJA,WACAC,EAGI,EAHJA,WACAC,EAEI,EAFJA,UACAC,EACI,EADJA,WAqBA,OACE,yBAAKP,UAAU,SACZE,GACC,kBAACM,EAAA,EAAD,CAAYC,QAAQ,KAAKT,UAAU,gBAChCE,GAGJC,GACC,kBAAC,IAAD,CACEO,UAAW,SAAAC,IA5BN,SAACC,EAAKC,EAAWC,GAC5B,GAAIX,EAAO,CACT,KAAOU,EAAY,GACjBA,GAAaD,EAAIG,OAEnB,KAAOD,EAAY,GACjBA,GAAaF,EAAIG,OAEnB,GAAID,GAAaF,EAAIG,OAEnB,IADA,IAAIC,EAAIF,EAAYF,EAAIG,OACX,EAANC,KACLJ,EAAIK,UAAKC,GAGbN,EAAIO,OAAOL,EAAW,EAAGF,EAAIO,OAAON,EAAW,GAAG,KAe5CO,CAAKjB,EAAOQ,EAAOU,OAAOC,MAAOX,EAAOY,YAAYD,OACpDE,QAAQC,IACN,SACAd,EAAOU,OAAOC,MACd,OACAX,EAAOY,YAAYD,SAIvB,kBAAC,IAAD,CAAWI,YAAY,cACpB,SAACC,EAAUC,GAAX,OACC,yBACEC,IAAKF,EAASG,UAGb3B,EAAM4B,KAAI,SAAClC,EAAMyB,GAAP,OACT,kBAAC,IAAD,CACEU,IAAKV,EACLW,YAAW,eAAUX,GACrBA,MAAOA,IAEN,SAACK,EAAUC,GAAX,OACC,uCACEC,IAAKF,EAASG,UACVH,EAASO,eACTP,EAASQ,iBAEb,kBAAC,EAAD,CAAMH,IAAKV,EAAOzB,KAAMA,WAK/B8B,EAASS,iBAOpB,kBAAC,EAAD,CACEhC,WAAYA,EACZC,WAAYA,EACZC,UAAWA,EACXC,WAAYA,O,kBCrEL8B,EAdA,SAAC,GAAuC,IAArCjC,EAAoC,EAApCA,WAAwBkC,GAAY,EAAxBC,WAAwB,EAAZD,OACxC,OACE,kBAAC,IAAD,CACEtC,UAAU,SACVS,QAAQ,YACR+B,MAAM,UACNC,kBAAgB,EAChBC,QAAS,kBAAMJ,MAEdlC,EAAa,8FAAqB,sG,qECqE1BuC,EA3EC,SAAC,GAAuD,IAArDvC,EAAoD,EAApDA,WAAYC,EAAwC,EAAxCA,WAAYC,EAA4B,EAA5BA,UAAWC,EAAiB,EAAjBA,WAAiB,EACrCqC,oBAAS,GAD4B,mBAC9DC,EAD8D,KACpDC,EADoD,OAEjCF,mBAAS,IAFwB,mBAE9DL,EAF8D,KAElDQ,EAFkD,KAG/DC,EAAWC,iBAAO,MAkBxB,OAJAC,qBAAU,WACJF,EAASG,SAASH,EAASG,QAAQC,UACtC,CAACP,IAGF,kBAAC,WAAD,KACGA,EACC,yBAAK7C,UAAU,YACb,yBAAKA,UAAU,kBACb,kBAACF,EAAA,EAAD,CAAOE,UAAU,cACf,kBAACqD,EAAA,EAAD,CACEC,WAAS,EACTC,WAAS,EACTnB,YACEhC,EACI,yIACA,+IAEN4C,SAAUA,EACVQ,SAAU,SAAAC,GAAC,OAAIV,EAAcU,EAAEC,OAAOC,QACtCA,MAAOpB,KAGX,yBAAKvC,UAAU,eACb,kBAAC,EAAD,CACEI,WAAYA,EACZmC,WAAYA,EACZD,MAvCA,WACRC,IACEnC,EACFC,EAAWkC,GAEXjC,EAAUC,EAAYgC,GAExBQ,EAAc,IACdD,GAAaD,OAiCL,kBAACe,EAAA,EAAD,CACElB,QAAS,WACPI,GAAaD,KAGf,kBAAC,IAAD,UAMR,yBACE7C,UAAU,wBACV0C,QAAS,WACPI,GAAaD,KAGf,kBAAC,IAAD,MACA,8BACGzC,EACG,0IACA,oJ,QCrDDyD,eAAQ,kBAAiB,CAAEC,MAAnB,EAAGC,UAAJ,eCrBP,CACbC,SAAU,SAAAC,GAAI,MAAK,CACjBC,KAAM,YACNC,QAASF,KDkBS,GErBP,CACbG,QAAS,SAAC7D,EAAY8D,GAAb,MAAuB,CAC9BH,KAAM,YACNC,QAAS,CACP5D,aACA8D,YFgBSR,EAfA,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAOE,EAAV,EAAUA,SAAUI,EAApB,EAAoBA,QAApB,OACb,kBAAC,WAAD,KACGN,EAAM/B,KAAI,SAACuC,EAAMhD,GAAP,OACT,kBAAC,EAAD,eACEU,IAAKV,EACLf,WAAYe,EACZjB,WAAY2D,EACZ1D,UAAW8D,GACPE,OAGR,kBAAC,EAAD,CAAOlE,YAAU,EAACC,WAAY2D,EAAU1D,UAAW8D,QGLxCG,ICJAC,EDIAD,EARf,WACE,OACE,yBAAKvE,UAAU,OACb,kBAAC,EAAD,Q,eEPAyE,EAAe,CACnB,CACEvE,MAAO,uEACPC,MAAO,CACL,mFACA,6HACA,uVACA,mFACA,6HAEA,yVAGJ,CACED,MAAO,iEACPC,MAAO,CACL,wHACA,4JACA,8JACA,0HChBSuE,cAAgB,CAC7BX,ODoBa,WAAmC,IAAlCY,EAAiC,uDAAzBF,EAAcG,EAAW,uCAC/C,OAAQA,EAAOV,MACb,IAAK,YACH,OAAOS,EAAM5C,KAAI,SAACuC,EAAMhD,GACtB,OAAIsD,EAAOT,QAAQ5D,aAAee,GAC5BgD,EAAKnE,MACA,eACFmE,EADL,CAEEnE,MAAM,GAAD,mBAAMmE,EAAKnE,OAAX,CAAkByE,EAAOT,QAAQE,SAIrCC,KAGX,IAAK,YACH,MAAM,GAAN,mBAAWK,GAAX,CAAkB,CAAEzE,MAAO0E,EAAOT,QAAShE,MAAO,MAEpD,QACE,OAAOwE,MElCEE,EALDC,YACZC,EACAC,OAAOC,8BAAgCD,OAAOC,gCHEjCT,EAQRD,EAPLW,IAASC,OACP,kBAAC,IAAD,CAAUN,MAAOA,GACf,kBAACL,EAAD,OAEFY,SAASC,eAAe,U","file":"static/js/main.865cacb6.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Paper } from \"@material-ui/core\";\r\nimport \"./Card.css\";\r\n\r\nconst Card = ({ card }) => {\r\n  return (\r\n    <Paper elevation={3} className=\"card\">\r\n      {card}\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { Card, AddForm } from \"../../components\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\n\r\nimport \"./Panel.css\";\r\n\r\nconst Panel = ({\r\n  title,\r\n  cards,\r\n  isNewPanel,\r\n  onAddPanel,\r\n  onAddCard,\r\n  panelIndex\r\n}) => {\r\n  const move = (arr, old_index, new_index) => {\r\n    if (cards) {\r\n      while (old_index < 0) {\r\n        old_index += arr.length;\r\n      }\r\n      while (new_index < 0) {\r\n        new_index += arr.length;\r\n      }\r\n      if (new_index >= arr.length) {\r\n        let k = new_index - arr.length;\r\n        while (k-- + 1) {\r\n          arr.push(undefined);\r\n        }\r\n      }\r\n      arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);\r\n      return arr;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"panel\">\r\n      {title && (\r\n        <Typography variant=\"h6\" className=\"panel__title\">\r\n          {title}\r\n        </Typography>\r\n      )}\r\n      {cards && (\r\n        <DragDropContext\r\n          onDragEnd={result => {\r\n            move(cards, result.source.index, result.destination.index);\r\n            console.log(\r\n              \"from: \",\r\n              result.source.index,\r\n              \"to: \",\r\n              result.destination.index\r\n            );\r\n          }}\r\n        >\r\n          <Droppable droppableId=\"droppable\">\r\n            {(provided, snapshot) => (\r\n              <div\r\n                ref={provided.innerRef}\r\n                //style={getListStyle(snapshot.isDraggingOver)}\r\n              >\r\n                {cards.map((card, index) => (\r\n                  <Draggable\r\n                    key={index}\r\n                    draggableId={`card-${index}`}\r\n                    index={index}\r\n                  >\r\n                    {(provided, snapshot) => (\r\n                      <div\r\n                        ref={provided.innerRef}\r\n                        {...provided.draggableProps}\r\n                        {...provided.dragHandleProps}\r\n                      >\r\n                        <Card key={index} card={card} />\r\n                      </div>\r\n                    )}\r\n                  </Draggable>\r\n                ))}\r\n                {provided.placeholder}\r\n              </div>\r\n            )}\r\n          </Droppable>\r\n        </DragDropContext>\r\n      )}\r\n\r\n      <AddForm\r\n        isNewPanel={isNewPanel}\r\n        onAddPanel={onAddPanel}\r\n        onAddCard={onAddCard}\r\n        panelIndex={panelIndex}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Panel;\r\n","import React from \"react\";\r\nimport \"./Button.css\";\r\nimport { Button as ButtonUI } from \"@material-ui/core\";\r\n\r\nconst Button = ({ isNewPanel, inputState, onAdd }) => {\r\n  return (\r\n    <ButtonUI\r\n      className=\"button\"\r\n      variant=\"contained\"\r\n      color=\"primary\"\r\n      disableElevation\r\n      onClick={() => onAdd()}\r\n    >\r\n      {isNewPanel ? \"Добавить колонку\" : \"Добавить карточку\"}\r\n    </ButtonUI>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React, { Fragment, useState, useRef, useEffect } from \"react\";\r\nimport AddOutlinedIcon from \"@material-ui/icons/AddOutlined\";\r\nimport CloseOutlinedIcon from \"@material-ui/icons/CloseOutlined\";\r\nimport \"./AddForm.css\";\r\nimport { Button } from \"../\";\r\nimport { InputBase, Paper, IconButton } from \"@material-ui/core\";\r\n\r\nconst AddForm = ({ isNewPanel, onAddPanel, onAddCard, panelIndex }) => {\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [inputState, setInputState] = useState(\"\");\r\n  const inputRef = useRef(null);\r\n\r\n  const onAdd = () => {\r\n    if (inputState) {\r\n      if (isNewPanel) {\r\n        onAddPanel(inputState);\r\n      } else {\r\n        onAddCard(panelIndex, inputState);\r\n      }\r\n      setInputState(\"\");\r\n      setShowForm(!showForm);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (inputRef.current) inputRef.current.focus();\r\n  }, [showForm]);\r\n\r\n  return (\r\n    <Fragment>\r\n      {showForm ? (\r\n        <div className=\"add-form\">\r\n          <div className=\"add-form-input\">\r\n            <Paper className=\"input-wrap\">\r\n              <InputBase\r\n                fullWidth\r\n                multiline\r\n                placeholder={\r\n                  isNewPanel\r\n                    ? \"Введите название колонки\"\r\n                    : \"Введите название карточки\"\r\n                }\r\n                inputRef={inputRef}\r\n                onChange={e => setInputState(e.target.value)}\r\n                value={inputState}\r\n              />\r\n            </Paper>\r\n            <div className=\"button-wrap\">\r\n              <Button\r\n                isNewPanel={isNewPanel}\r\n                inputState={inputState}\r\n                onAdd={onAdd}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShowForm(!showForm);\r\n                }}\r\n              >\r\n                <CloseOutlinedIcon />\r\n              </IconButton>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div\r\n          className=\"panel__bottom-add-btn\"\r\n          onClick={() => {\r\n            setShowForm(!showForm);\r\n          }}\r\n        >\r\n          <AddOutlinedIcon />\r\n          <span>\r\n            {isNewPanel\r\n              ? \"Добавить еще одну колонку\"\r\n              : \"Добавить еще одну карточку\"}\r\n          </span>\r\n        </div>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default AddForm;\r\n","import React, { Fragment } from \"react\";\r\nimport { Panel } from \"../../components\";\r\nimport { connect } from \"react-redux\";\r\nimport panelsActions from \"../../actions/panels\";\r\nimport cardsActions from \"../../actions/cards\";\r\n\r\nconst Panels = ({ items, addPanel, addCard }) => (\r\n  <Fragment>\r\n    {items.map((item, index) => (\r\n      <Panel\r\n        key={index}\r\n        panelIndex={index}\r\n        onAddPanel={addPanel}\r\n        onAddCard={addCard}\r\n        {...item}\r\n      />\r\n    ))}\r\n    <Panel isNewPanel onAddPanel={addPanel} onAddCard={addCard} />\r\n  </Fragment>\r\n);\r\n\r\nexport default connect(({ panels }) => ({ items: panels }), {\r\n  ...panelsActions,\r\n  ...cardsActions\r\n})(Panels);\r\n","export default {\r\n  addPanel: name => ({\r\n    type: \"PANEL:ADD\",\r\n    payload: name\r\n  })\r\n};\r\n","export default {\r\n  addCard: (panelIndex, text) => ({\r\n    type: \"CARDS:ADD\",\r\n    payload: {\r\n      panelIndex,\r\n      text\r\n    }\r\n  })\r\n};\r\n","import React from \"react\";\nimport \"./App.css\";\nimport { Panels } from \"./components/containers\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Panels />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nimport { Provider } from \"react-redux\";\nimport store from \"./components/store\";\n\nconst render = Component =>\n  ReactDOM.render(\n    <Provider store={store}>\n      <Component />\n    </Provider>,\n    document.getElementById(\"root\")\n  );\n\nrender(App);\n\nif (module.hot) {\n  module.hot.accept(\"./App\", () => {\n    const NextApp = require(\"./App\").default;\n    render(NextApp);\n  });\n}\n","const initialState = [\r\n  {\r\n    title: \"План на месяц\",\r\n    cards: [\r\n      \"Пройти курс по React\",\r\n      \"Отметить день рождения\",\r\n      \"Записаться на курсы английского языка, чтобы уехать жить в Лондон\",\r\n      \"Пройти курс по React\",\r\n      \"Отметить день рождения\",\r\n\r\n      \"Записаться на курсы английского языка, чтобы уехать жить в Лондон\"\r\n    ]\r\n  },\r\n  {\r\n    title: \"План на день\",\r\n    cards: [\r\n      \"Записаться на курс по React\",\r\n      \"Забронировать тир на субботу\",\r\n      \"Накидать тем для статей в блог\",\r\n      \"Сделать колонку Итоги\"\r\n    ]\r\n  }\r\n];\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"CARDS:ADD\":\r\n      return state.map((item, index) => {\r\n        if (action.payload.panelIndex === index) {\r\n          if (item.cards) {\r\n            return {\r\n              ...item,\r\n              cards: [...item.cards, action.payload.text]\r\n            };\r\n          }\r\n        }\r\n        return item;\r\n      });\r\n\r\n    case \"PANEL:ADD\":\r\n      return [...state, { title: action.payload, cards: [] }];\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport panels from \"./panels\";\r\n\r\nexport default combineReducers({\r\n  panels\r\n});\r\n","import { createStore } from \"redux\";\r\n\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n\r\nexport default store;\r\n"],"sourceRoot":""}